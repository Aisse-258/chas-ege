<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"/>
	<script>
		document.write('<script src="../lib/head.js?'+Math.random()+'"></sc'+'ript>');
	</script>
	<script>
		addstyle("../css/pech.css");
	</script>
	<title>
		Тренажёр "Час ЕГЭ": автоматическая проверка набора
	</title>
</head>
<body onload="$.jStorage.zagrData()" onunload="$.jStorage.sohrData()">
	<script>
		addscript('../lib/init.js');
	</script>
	<button onclick="start()">
		Проверить
	</button>
	<div id="divrez">
	</div>
	<script>
		function start(){
			var divrez=document.getElementById('divrez');
			divrez.innerHTML+='Начинаем проверку набора '+nabor.adres+'<br/>';
			for(var kat in nabor.upak){
				divrez.innerHTML+=kat+'<br/>';
				for(var zdn in nabor.upak[kat])
					if(zdn!='main'){
						divrez.innerHTML+=kat+'/'+zdn+'.js<br/>';
						for(var raz=1000;raz;raz--){
							try{
								nabor.upak[kat][zdn]();
								divrez.innerHTML+=dvig.validateVopr()+'<br/>';
							}catch(e){
								divrez.innerHTML+=e+'<br/>';
							}
						}
					}
			}
		}
		
/*		function validateVopr(){
			for(var pole in vopr){
				var t=hasErrors(vopr[pole]);
				if(t)
					divrez.innerHTML+=pole+" : "+t+'<br/>';
			}
		}
	*/	
/*		function hasErrors(p){
			if(p==undefined)
				return 'undefined; '
			if(p.isFunction)
				return 0;
			var rez='';
			if(p.isNumber)
				p=''+p;
			if(p.isString){
				if(p.match(/NaN/))
					rez+='NaN; ';
				if(p.match(/undefined/))
					rez+='undefined; ';
				if(p.match(/Infinity/))
					rez+='Infinity; ';
				if(p.match(/[.,][0-9]*00000/))
					rez+='00000; ';
			}
			if(p.isArray){
				for(var i=0;i<p.length;i++){
					rez+=hasErrors(p[i]);
				}
			}
			return rez;
		}
*/	</script>
</body>
</html>

